


<!doctype html>
<!--
      Think this site is hideous? We could use your help!
      More info at http://www.ocf.berkeley.edu/about/staff :-)

      This is ocfweb version 2396812250bda83100753749b8a6a3fa0a0f64d9
      https://github.com/ocf/ocfweb/
-->
<html class="page-doc page-doc-services-mysql">


    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        

        
        
            <meta property="og:image" content="https://static.ocf.berkeley.edu/img/penguin-opengraph.png"/>
        

        <link rel="canonical" href="https://www.ocf.berkeley.edu/docs/services/mysql/" />

        <title>
            
                
                    Database (MySQL) &ndash;
                
                Open Computing Facility
            
        </title>

        <link href="https://fonts.googleapis.com/css?family=Roboto:400,700,400italic,700italic,500,500italic" rel="stylesheet">
        <link href="https://static.ocf.berkeley.edu/scss/site.scss.css" rel="stylesheet" />
        <link rel="icon" href="https://static.ocf.berkeley.edu/img/favicon/favicon-16.png" sizes="16x16" />
        <link rel="icon" href="https://static.ocf.berkeley.edu/img/favicon/favicon-32.png" sizes="32x32" />
    </head>


    <body>
        <div class="navbar ocf-navbar navbar-fixed-top" role="navigation">
            <div class="container">
                <div class="navbar-header">
                    <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                        <span class="sr-only">Toggle navigation</span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                    <a class="navbar-brand" href="/">Open Computing Facility</a>
                </div>
                <div class="collapse navbar-collapse">
                    <ul class="nav navbar-nav navbar-right">
                        <li class="hidden-sm"><a href="/account/register/">Join</a></li>
                        <li class="dropdown">
                            <a href="/docs/about/" class="dropdown-toggle" data-toggle="dropdown">
                                About <span class="hidden-sm">Us</span> <span class="caret"></span>
                            </a>

                            <ul class="dropdown-menu" role="menu">
                                <li><a href="/docs/about/">Our Organization</a></li>
                                <li><a href="/about/staff">Joining the Staff Team</a></li>
                                <li><a href="/stats/">Lab Statistics</a></li>
                                <li><a href="/docs/staff/backend/">Backend Infrastructure</a></li>
                            </ul>
                        </li>

                        <li class="dropdown">
                            <a href="/docs/services/" class="dropdown-toggle" data-toggle="dropdown">
                                Services <span class="caret"></span>
                            </a>

                            <ul class="dropdown-menu" role="menu">
                                <li><a href="/docs/services/lab/">Computer Lab</a></li>
                                <li><a href="/docs/services/lab/printing/">Printing</a></li>
                                <li><a href="/docs/services/web/">Web Hosting</a></li>
                                <li><a href="/docs/services/webapps/">Application Hosting</a></li>
                                <li><a href="/docs/services/shell/">SSH/SFTP (Shell)</a></li>
                                <li><a href="/docs/services/mail/">Email Hosting</a></li>
                                <li><a href="/docs/services/mysql/">MySQL Database</a></li>
                                <li><a href="/docs/services/mirrors/">Software Mirrors</a></li>
                                <li><a href="/docs/services/hpc/">High Performance Computing</a></li>
                            </ul>
                        </li>

                        <li><a href="/staff-hours">Staff Hours</a></li>
                        <li><a href="/docs/">Help</a></li>
                        <li><a href="/docs/contact/">
                                Contact <span class="hidden-sm">Us</span>
                        </a></li>

                        
                            <li>
                                <a href="/login/login/?next=/docs/services/mysql/" class="ocf-account-dropdown">
                                    <span class="glyphicon glyphicon-user" aria-hidden="true"></span>
                                    Log In
                                </a>
                            </li>
                        
                    </ul>
                </div>
            </div>
        </div>

        <!-- <div class="ocf-status-bar">
            <div class="container">
                <p>
                    
                        
                            <strong>Lab Currently Closed</strong>
                        
                        <span class="nowrap">
                            
                                Hours:
                            
                            9am–8pm
                            on Monday 
                            <a class="subtle" href="/docs/services/lab/">more &raquo;</a>
                        </span>
                    
                </p>
            </div>
        </div> -->

        
            
                <div class="ocf-hero ocf-page-title">
                    <div class="container">
                        <h1>Database (MySQL)</div>
                    </div>
                </div>
            
        

        
        <div class="ocf-content container">
            
                
            
            
<div class="row">
    <div class="col-sm-8 ocf-content-block">
        
          
<div class="dummy">
  <div class="ocf-doc-toc">
    
        <a data-toggle="collapse" data-target="#toc" class="doc-collapse-toggle collapsed">
          <span class="glyphicon" aria-hidden="true"></span>
          Table of Contents
        </a>
        <div id="toc" class="collapse">
          <ol><li><a href="#policies">Policies</a></li><li><a href="#h2_web-based-interface-for-editing">Web-based interface for editing</a></li><li><a href="#h2_creating-a-mysql-database">Creating a MySQL database</a></li><ol><li><a href="#h3_web-based-tool">Web-based tool</a></li><li><a href="#h3_ssh-terminal">SSH Terminal</a></li></ol><li><a href="#h2_reset-password">Reset Password</a></li><li><a href="#h2_accessing-mysql">Accessing MySQL</a></li><li><a href="#h2_backing-up-a-mysql-database">Backing up a MySQL database</a></li><li><a href="#h2_restoring-a-mysql-database-from-backup">Restoring a MySQL database from backup</a></li><li><a href="#h2_using-mycnf-for-passwordless-access-to-mysql">Using .my.cnf for passwordless access to MySQL</a></li></ol>
        </div>
    
  </div>
</div>


        
        <p>The OCF provides each user with a MySQL database. Read the following sections
for information about performing common MySQL tasks, and our rules and policies
regarding MySQL.</p>
<p>The actual server runs <a href="https://mariadb.org/">MariaDB</a>, which is an
active community-driven fork of MySQL. In practice, you shouldn't notice any
important differences between the two, though MariaDB does contain <a href="https://mariadb.com/kb/en/mariadb/mariadb-vs-mysql-features/">some
improvements</a>.</p>
<h2 id="policies">Policies <a class="anchor" href="#policies"><span></span></a></h2>
<p>We limit users to 1 database, and this database has the same name as your
username. As a user of shared database server we ask you to respect the
community and refrain from any activities that will hurt the quality of service
for other users. We understand this policy is vague, so our suggested maximum
size for databases is 1GB, and for individual tables 256 MB. Storing large
amounts of data is not a problem unless the server has to perform complex
queries on this data.</p>
<h2 id="h2_web-based-interface-for-editing">Web-based interface for editing <a class="anchor" href="#h2_web-based-interface-for-editing"><span></span></a></h2>
<p>If you are looking for a familiar phpMyAdmin interface, visit
<a href="https://pma.ocf.berkeley.edu">https://pma.ocf.berkeley.edu</a>.</p>
<h2 id="h2_creating-a-mysql-database">Creating a MySQL database <a class="anchor" href="#h2_creating-a-mysql-database"><span></span></a></h2>
<p>We have two options to create a database using the terminal or our web
management tool.</p>
<h3 id="h3_web-based-tool">Web-based tool <a class="anchor" href="#h3_web-based-tool"><span></span></a></h3>
<p><a href="/account/commands/">Click here</a> and type in your username and password. Select the
option: <code>makemysql — reset your MySQL database password, or create a new MySQL
database</code> and run the command. Note your password in a safe place.</p>
<h3 id="h3_ssh-terminal">SSH Terminal <a class="anchor" href="#h3_ssh-terminal"><span></span></a></h3>
<p>Log into the OCF via <a href="/docs/services/shell/">SSH</a>, at the terminal prompt enter
the command <code>makemysql</code>. Hit yes to confirm the operation. Note your password
in a safe place.</p>
<h2 id="h2_reset-password">Reset Password <a class="anchor" href="#h2_reset-password"><span></span></a></h2>
<p>To reset a MySQL password simply follow the directions above for creating a
MySQL database. This program WILL NOT DELETE an existing database.</p>
<h2 id="h2_accessing-mysql">Accessing MySQL <a class="anchor" href="#h2_accessing-mysql"><span></span></a></h2>
<p>Assuming your database is set up, in order to access it (or allow a web
application to access it), you will need 4 pieces of information:</p>
<ul>
<li>Database Host: mysql</li>
<li>Database Name: {your OCF username}</li>
<li>Database User: {your OCF username}</li>
<li>Database password: {your database password}</li>
</ul>
<p>Note: Your database password is not the same as your OCF account password. It
is a randomly generated password that was created when your database was
created. To use your OCF MySQL database with a web application, enter the above
information during the application's installation process.</p>
<p>To connect to the OCF's MySQL server using the MySQL client on an OCF machine,
simply run the command: <code>mysql</code></p>
<p>This command will prompt you for your MySQL database password.</p>
<h2 id="h2_backing-up-a-mysql-database">Backing up a MySQL database <a class="anchor" href="#h2_backing-up-a-mysql-database"><span></span></a></h2>
<p>To backup your database (which you should probably do regularly), the basic
command to use is</p>
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span>mysqldump [username] &gt; backup
</pre></div>
<p>where username denotes your OCF username and <code>backup</code> is the name of the file
you want to dump the contents of your database into. This command will prompt
you for your MySQL password.</p>
<p>To see more options, try running</p>
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span>mysqldump --help
</pre></div>
<h2 id="h2_restoring-a-mysql-database-from-backup">Restoring a MySQL database from backup <a class="anchor" href="#h2_restoring-a-mysql-database-from-backup"><span></span></a></h2>
<p>If you need to restore your database from a backup (dump file) you made
previously, you simply need to connect to the database and run the SQL commands
in the dump file. To do this from the command line, use</p>
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span>mysql -D [username] &lt; backup
</pre></div>
<p>where backup is the name of the file that contains the dumped data. As usual,
this command will prompt you for your MySQL password.</p>
<h2 id="h2_using-mycnf-for-passwordless-access-to-mysql">Using .my.cnf for passwordless access to MySQL <a class="anchor" href="#h2_using-mycnf-for-passwordless-access-to-mysql"><span></span></a></h2>
<p>If you are using MySQL in a script or in another program, you will probably
want to set it up so that the <code>mysql</code> call does not prompt for your password.
While passing the -p option is the obvious way to achieve this, it is also
<em>very insecure</em> because anyone on OCF can see the password while the mysql
command is running. A better approach is to create a <code>~/.my.cnf</code> file with
proper permissions that contains your MySQL password. To do this, enter the
following commands: make sure you replace dbpasswd with the MySQL password
given to you when you ran makemysql.</p>
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span>touch ~/.my.cnf
cat &gt;&gt; ~/.my.cnf &lt;&lt; EOF
[client]
password = dbpasswd
EOF
chmod 600 ~/.my.cnf
</pre></div>
<p>And make sure that your .my.cnf has correct permissions by running</p>
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span>$ ls -l ~/.my.cnf
-rw-------  1 staff ocf 64 2005-11-15 16:16 /home/s/st/staff/.my.cnf
</pre></div>
<p>Now the mysql command will automatically log you in, so you won't have to
memorize or write down your MySQL password.</p>

        
    </div>

    <div class="col-sm-4 ocf-sidebar">
        
            <p class="page-github-icons">
                <a class="edit-this-page" href="https://github.com/ocf/ocfweb/edit/master/ocfweb/docs/docs/services/mysql.md">
                    <span class="glyphicon glyphicon-pencil" aria-hidden="true"></span>
                    Edit this Page
                </a>
                <a class="page-history" href="https://github.com/ocf/ocfweb/commits/master/ocfweb/docs/docs/services/mysql.md">
                    <span class="glyphicon glyphicon-time" aria-hidden="true"></span>
                    Page History
                </a>
            </p>
            
<div class="dummy">
  <div class="ocf-doc-toc">
    
        <h3>Table of Contents</h3>
        <ol><li><a href="#policies">Policies</a></li><li><a href="#h2_web-based-interface-for-editing">Web-based interface for editing</a></li><li><a href="#h2_creating-a-mysql-database">Creating a MySQL database</a></li><ol><li><a href="#h3_web-based-tool">Web-based tool</a></li><li><a href="#h3_ssh-terminal">SSH Terminal</a></li></ol><li><a href="#h2_reset-password">Reset Password</a></li><li><a href="#h2_accessing-mysql">Accessing MySQL</a></li><li><a href="#h2_backing-up-a-mysql-database">Backing up a MySQL database</a></li><li><a href="#h2_restoring-a-mysql-database-from-backup">Restoring a MySQL database from backup</a></li><li><a href="#h2_using-mycnf-for-passwordless-access-to-mysql">Using .my.cnf for passwordless access to MySQL</a></li></ol>
    
  </div>
</div>



            <h3>More in this category</h3>
            


    <li>
        
            <a href="/docs/services/">Services</a>
        


<ul>
    
        


    <li>
        
            <a href="/docs/services/account/">Account</a>
        


<ul>
    
        


    <li>
        
            <a href="/docs/services/account/account-policies/">Account policies</a>
        


<ul>
    
</ul>


    </li>


    
        


    <li>
        
            <a href="/docs/services/account/content-removal/">Content removal policy</a>
        


<ul>
    
</ul>


    </li>


    
</ul>


    </li>


    
        


    <li>
        
            <a href="/docs/services/lab/">Computer lab</a>
        


<ul>
    
        


    <li>
        
            <a href="/docs/services/lab/lab-reservation-policy/">Lab reservation policy</a>
        


<ul>
    
</ul>


    </li>


    
        


    <li>
        
            <a href="/docs/services/lab/printing/">Printing</a>
        


<ul>
    
</ul>


    </li>


    
</ul>


    </li>


    
        


    <li>
        
            <strong>Database (MySQL)</strong>
        


<ul>
    
</ul>


    </li>


    
        


    <li>
        
            <a href="/docs/services/mail/">Email</a>
        


<ul>
    
</ul>


    </li>


    
        


    <li>
        
            <a href="/docs/services/hpc/">High performance computing</a>
        


<ul>
    
        


    <li>
        
            <a href="/docs/services/hpc/slurm/">Slurm</a>
        


<ul>
    
</ul>


    </li>


    
</ul>


    </li>


    
        


    <li>
        
            <a href="/docs/services/mastodon/">Mastodon</a>
        


<ul>
    
</ul>


    </li>


    
        


    <li>
        
            <a href="/docs/services/shell/">Remote shell and file transfer (SSH/SFTP)</a>
        


<ul>
    
        


    <li>
        
            <a href="/docs/services/shell/commands/">Command reference</a>
        


<ul>
    
</ul>


    </li>


    
</ul>


    </li>


    
        


    <li>
        
            <a href="/docs/services/mirrors/">Software Mirrors</a>
        


<ul>
    
</ul>


    </li>


    
        


    <li>
        
            <a href="/docs/services/vhost/">Virtual hosting (group.studentorg.berkeley.edu)</a>
        


<ul>
    
        


    <li>
        
            <a href="/docs/services/vhost/badges/">Hosting badges</a>
        


<ul>
    
</ul>


    </li>


    
        


    <li>
        
            <a href="/docs/services/vhost/mail/">Mail virtual hosting for student groups</a>
        


<ul>
    
        


    <li>
        
            <a href="/docs/services/vhost/mail/gmail/">Using Gmail with mail virtual hosting</a>
        


<ul>
    
</ul>


    </li>


    
</ul>


    </li>


    
        


    <li>
        
            <a href="/docs/services/vhost/subdomain-migration/">Subdomain migration FAQ</a>
        


<ul>
    
</ul>


    </li>


    
</ul>


    </li>


    
        


    <li>
        
            <a href="/docs/services/webapps/">Web application hosting</a>
        


<ul>
    
        


    <li>
        
            <a href="/docs/services/webapps/nodejs/">Node.js</a>
        


<ul>
    
</ul>


    </li>


    
        


    <li>
        
            <a href="/docs/services/webapps/python/">Python (Django, Flask, etc.)</a>
        


<ul>
    
</ul>


    </li>


    
        


    <li>
        
            <a href="/docs/services/webapps/rails/">Ruby on Rails</a>
        


<ul>
    
</ul>


    </li>


    
</ul>


    </li>


    
        


    <li>
        
            <a href="/docs/services/web/">Web hosting</a>
        


<ul>
    
        


    <li>
        
            <a href="/docs/services/web/backups/">Backups/Archiving</a>
        


<ul>
    
</ul>


    </li>


    
        


    <li>
        
            <a href="/docs/services/web/django/">Django</a>
        


<ul>
    
</ul>


    </li>


    
        


    <li>
        
            <a href="/docs/services/web/flask/">Flask</a>
        


<ul>
    
</ul>


    </li>


    
        


    <li>
        
            <a href="/docs/services/web/jekyll/">Jekyll</a>
        


<ul>
    
</ul>


    </li>


    
        


    <li>
        
            <a href="/docs/services/web/php/">PHP</a>
        


<ul>
    
</ul>


    </li>


    
        


    <li>
        
            <a href="/docs/services/web/rails/">Ruby on Rails</a>
        


<ul>
    
</ul>


    </li>


    
        


    <li>
        
            <a href="/docs/services/web/wordpress/">WordPress</a>
        


<ul>
    
</ul>


    </li>


    
</ul>


    </li>


    
        


    <li>
        
            <a href="/docs/services/xmpp/">XMPP</a>
        


<ul>
    
</ul>


    </li>


    
</ul>


    </li>



        
    </div>
</div>

        </div>
        

        
            <div class="footer ocf-footer">
                
                    <div class="ocf-footer-top">
                        <div class="container">
                            <p class="text-center">OCF &hearts;
                            <a href="https://www.linuxfoundation.org/">Linux</a>,
                            <a href="https://kubernetes.io/">Kubernetes</a>,
                            <a href="https://www.python.org/">Python</a>,
                            <a href="https://nixos.org/">Nix</a>,
                            and Free/Open-Source Software. <span class="nowrap">Sound like you?
                            <a href="/about/staff">Join the staff team!</a></span></p>
                        </div>
                    </div>
                

                <div class="container">
                    <div class="row">
                        <div class="col-sm-3">
                            <h5>About the OCF</h5>
                            <ul class="list-unstyled">
                                <li><a href="/docs/about/">Overview</a></li>
                                <li><a href="/docs/about/officers/">Officers</a></li>
                                <li><a href="/docs/docs/">Official Documents</a></li>
                                <li><a href="https://www.ocf.berkeley.edu/~staff/bod/">Board Meeting Minutes</a></li>
                                <li><a href="/docs/privacy/">Privacy Policy</a></li>
                            </ul>
                        </div>

                        <div class="col-sm-3">
                            <h5>Account Tools</h5>
                            <ul class="list-unstyled">
                                <li><a href="/account/register/">Join the OCF</a></li>
                                <li><a href="/account/password/">Reset Password</a></li>
                                <li><a href="/account/commands/">Manage My Account</a></li>
                            </ul>
                        </div>

                        <div class="col-sm-3">
                            <h5>Services</h5>
                            <ul class="list-unstyled">
                                <li><a href="/docs/services/lab/">Computer Lab &amp; Printing</a></li>
                                <li><a href="/docs/services/web/">Web Hosting</a></li>
                <li><a href="/docs/services/webapps/">Application Hosting</a></li>
                                <li><a href="/docs/services/mail/">Email Hosting</a></li>
                                <li><a href="/docs/services/shell/">SSH/Remote Shell</a></li>
                <li><a href="/docs/services/hpc/">High Performance Computing</a></li>
                            </ul>
                        </div>

                        <div class="col-sm-3">
                            <h5>Help and Support</h5>
                            <ul class="list-unstyled">
                                <li><a href="https://status.ocf.berkeley.edu/">Status Blog</a></li>
                                <li><a href="https://ocf.io/donate">Donate to the OCF</a></li>
                                <li><a href="/docs/faq/">Frequently Asked Questions</a></li>
                                <li><a href="/docs/">User Documentation</a></li>
                                <li><a href="/docs/staff/">Staff Documentation</a></li>
                                <li><a href="/docs/contact/">Contact Us</a></li>
                            </ul>
                        </div>
                    </div>

                    <div class="ocf-copyright">
                        <p>The Open Computing Facility is run entirely by student volunteers.</p>
                        <p>Copyright &copy; 1989&ndash;2025 Board of Directors of the Open Computing Facility.</p>
                        <p>The Open Computing Facility is a Chartered Program of the ASUC.</p>
                    </div>
                </div>
            </div>
        

        <!-- Block intended to be overidden later for stuff like modals that should be under <body> -->
        

        <!-- Hack to make browsers load glyphicons immediately.

             Without this, there is awkward flashing on some pages (e.g. docs)
             when hovering over something and a glyphicon appears.
        -->
        <span style="font-family: 'Glyphicons Halflings';"></span>

        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>
        <script src="https://static.ocf.berkeley.edu/js/site.js"></script>

        
    </body>
</html>
